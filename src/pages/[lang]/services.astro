---
// src/pages/[lang]/services.astro

import BaseLayout from '../../layouts/BaseLayout.astro';

// ----- Components

import Banner from '../../components/sections/Banner.astro';
import CallToAction from '../../components/sections/CallToAction.astro';
import AccordionHowIWork from '../../components/sections/AccordionHowIWork.astro';
import ImageAccordion from '../../components/ui/ImageAccordion.astro';
import AccordionPackages from '../../components/sections/AccordionPackages.astro';
import AccordionAvailability from '../../components/sections/AccordionAvailability.astro';
import AccordionWhatINeed from '../../components/sections/AccordionWhatINeed.astro';
import AccordionForWho from '../../components/sections/AccordionForWho.astro';
import AccordionDuration from '../../components/sections/AccordionDuration.astro';

// ----- Images

import ServicesBanner from '../../assets/images/bg/bg-services.webp';
import CTA from '../../assets/images/cta.webp';
import Consulting01 from '../../assets/images/services/consulting-01.webp';
import Consulting02 from '../../assets/images/services/consulting-02.webp';
import Redesign01 from '../../assets/images/services/redesign-01.webp';
import Redesign02 from '../../assets/images/services/redesign-02.webp';
import Residential01 from '../../assets/images/services/residential-01.webp';
import Residential02 from '../../assets/images/services/residential-02.webp';

// ----- Function

export async function getStaticPaths() {
	return [{ params: { lang: 'es' } }, { params: { lang: 'en' } }];
}

type Lang = 'es' | 'en';

interface Props {
	lang: Lang;
}

const { lang = 'es' } = Astro.params;

// Traducciones directamente en el componente
const translations: Record<Lang, { heading: string; alt: string }> = {
	es: {
		heading:
			'El proceso es cercano, claro y pensado en cada detalle desde el primer contacto hasta la entrega final.',
		alt: 'Una acogedora escena de sala de estar con plantas en macetas, una vela y un cactus, con una almohada verde y un sof√° texturizado en el fondo.',
	},
	en: {
		heading:
			'The process is friendly, clear, and thoughtful in every detail, from the first contact to the final delivery.',
		alt: 'A cozy living room scene with potted plants, a candle, and a cactus, featuring a green pillow and a textured sofa in the background.',
	},
};

const t = translations[lang];
---

<BaseLayout lang={lang}>
	<Banner imageSrc={ServicesBanner} key="services" lang={lang} />
	<section class="responsive flex flex-col gap-8">
		<h2 class="text-secondary text-center">{t.heading}</h2>
		<AccordionHowIWork lang={lang} />
		<AccordionDuration lang={lang} />
		<AccordionForWho lang={lang} />
	</section>

	<section class="responsive flex flex-col gap-20">
		<ImageAccordion
			lang={lang}
			service="residential"
			imageSrc01={Residential01}
			imageSrc02={Residential02}
		/>
		<ImageAccordion
			lang={lang}
			service="interior"
			imageSrc01={Consulting01}
			imageSrc02={Consulting02}
		/>
		<ImageAccordion lang={lang} service="space" imageSrc01={Redesign01} imageSrc02={Redesign02} />
	</section>

	<section class="responsive flex flex-col gap-8">
		<AccordionWhatINeed lang={lang} />
		<AccordionPackages lang={lang} />
		<AccordionAvailability lang={lang} />
	</section>

	<CallToAction lang={lang} imageSrc={CTA} />
</BaseLayout>
