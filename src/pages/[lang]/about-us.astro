---
// src/pages/[lang]/about-us.astro

// ----- Components

import BaseLayout from '../../layouts/BaseLayout.astro';
import Banner from '../../components/sections/Banner.astro';
import CallToAction from '../../components/sections/CallToAction.astro';
// import AccordionBase from '../../components/AccordionBase.astro';
import TeamCard from '../../components/ui/TeamCard.astro';

// ----- Image
import AboutBanner from '../../assets/images/bg/bg-about.webp';

import ValeriaMuñoz from '../../assets/images/team/valeria-munoz.webp';
import AndreaTorres from '../../assets/images/team/andrea-torres.webp';
import LuisMartinez from '../../assets/images/team/luis-martinez.webp';
import SofiaRivas from '../../assets/images/team/sofia-rivas.webp';
import AccordionDynamics from '../../components/sections/AccordionDynamics.astro';
import AccordionVision from '../../components/sections/AccordionVision.astro';
import OurTeam from '../../components/sections/OurTeam.astro';
import AccordionHowWeWork from '../../components/sections/AccordionHowWeWork.astro';

// ----- Function

export async function getStaticPaths() {
	return [{ params: { lang: 'es' } }, { params: { lang: 'en' } }];
}

type Lang = 'es' | 'en';
const lang = (Astro.params.lang ?? 'es') as Lang;

const translations: Record<Lang, { heading: string }> = {
	es: {
		heading: 'Conoce a las personas que hacen posible cada proyecto:',
	},
	en: {
		heading: 'Meet the people who make each project possible:',
	},
};

const t = translations[lang] ?? translations['es'];
---

<BaseLayout lang={lang}>
	<Banner imageSrc={AboutBanner} key="about" lang={lang} />
	<section class="responsive flex flex-col gap-4">
		<OurTeam lang={lang} />
		<AccordionVision lang={lang} />
		<AccordionHowWeWork lang={lang} />
		<AccordionDynamics lang={lang} />
	</section>
	<section class="responsive flex flex-col gap-8">
		<h2>{t.heading}</h2>
		<div
			class="grid grid-cols-1 gap-8 sm:grid-cols-2 md:gap-6 lg:grid-cols-3 lg:gap-8 xl:grid-cols-4"
		>
			<TeamCard lang={lang} imageSrc={ValeriaMuñoz} blockName="valeriaMuñoz" />
			<TeamCard lang={lang} imageSrc={AndreaTorres} blockName="andreaTorres" />
			<TeamCard lang={lang} imageSrc={LuisMartinez} blockName="luisMartinez" />
			<TeamCard lang={lang} imageSrc={SofiaRivas} blockName="sofiaRivas" />
		</div>
	</section>

	<CallToAction lang={lang} />
</BaseLayout>
